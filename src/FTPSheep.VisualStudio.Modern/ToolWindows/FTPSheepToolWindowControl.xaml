<DataTemplate xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
              xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:vs="http://schemas.microsoft.com/visualstudio/extensibility/2022/xaml">

  <Grid Margin="10">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- Header -->
    <TextBlock Grid.Row="0"
               Text="{Binding WelcomeMessage}"
               FontSize="36"
               FontWeight="Bold"
               Margin="0,0,0,10"/>

    <!-- Project and Profile Selection -->
    <StackPanel Grid.Row="1" Orientation="Vertical" Margin="0,0,0,10">
      <Grid Margin="0,0,0,5">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="*"/>
          <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>

        <TextBlock Grid.Column="0"
                   Text="Project:"
                   VerticalAlignment="Center"
                   Margin="0,0,10,0"/>
        <ComboBox Grid.Column="1"
                  ItemsSource="{Binding Projects}"
                  SelectedItem="{Binding SelectedProject}"
                  DisplayMemberPath="Name"
                  Margin="0,0,10,0"/>
        <ComboBox Grid.Column="2"
                  ItemsSource="{Binding Profiles}"
                  SelectedItem="{Binding SelectedProfile}"
                  DisplayMemberPath="Name"
                  MinWidth="150"/>
      </Grid>
    </StackPanel>

    <!-- Deploy Button -->
    <Button Grid.Row="2"
            Content="Publish"
            Command="{Binding DeployCommand}"
            Padding="10,5"
            Margin="0,0,0,10"
            HorizontalAlignment="Stretch"
            Height="32"/>

    <!-- Profiles Section -->
    <GroupBox Grid.Row="3"
              Header="Deployment Profiles"
              Margin="0,0,0,10">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ListBox Grid.Row="0"
                 ItemsSource="{Binding Profiles}"
                 Margin="0,0,0,5"
                 MinHeight="100">
          <ListBox.ItemTemplate>
            <DataTemplate>
              <TextBlock>
                <Run Text="{Binding Name}"/>
                <Run Text=" - "/>
                <Run Text="{Binding Server}"/>
              </TextBlock>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>

        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Left">
          <Button Content="New"
                  Command="{Binding NewProfileCommand}"
                  Margin="0,0,5,0"
                  Padding="10,3"
                  MinWidth="60"/>
          <Button Content="Edit"
                  Command="{Binding EditProfileCommand}"
                  Margin="0,0,5,0"
                  Padding="10,3"
                  MinWidth="60"/>
          <Button Content="Delete"
                  Command="{Binding DeleteProfileCommand}"
                  Margin="0,0,5,0"
                  Padding="10,3"
                  MinWidth="60"/>
          <Button Content="Import .pubxml"
                  Command="{Binding ImportProfileCommand}"
                  Padding="10,3"
                  MinWidth="100"/>
        </StackPanel>
      </Grid>
    </GroupBox>

    <!-- Recent Deployments Section -->
    <GroupBox Grid.Row="5"
              Header="Recent Deployments">
      <ListBox ItemsSource="{Binding RecentDeployments}"
               MinHeight="100">
        <ListBox.ItemTemplate>
          <DataTemplate>
            <TextBlock Text="{Binding}"/>
          </DataTemplate>
        </ListBox.ItemTemplate>
      </ListBox>
    </GroupBox>
  </Grid>
</DataTemplate>
